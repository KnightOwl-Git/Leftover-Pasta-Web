<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leftover Pasta</title>
  </head>
  <style>
    body {
      background-color: rgb(99, 49, 226);
    }
    canvas {
      width: calc(100vw - 1em);
      height: calc(100vh - 1em);
    }

    body {
        overflow: hidden;
    }

  </style>
  <body>
    <button id="action">Start and Play</button>

      <canvas id="canvas"></canvas>


    <script src="https://unpkg.com/@rive-app/canvas@latest"></script>
    <script>
      const r = new rive.Rive({
        src: "assets/rive/LP_UI_JS.riv",
        canvas: document.getElementById("canvas"),
        layout: new rive.Layout({
          fit: rive.Fit.Layout,
          alignment: rive.Alignment.TopCenter,
          layoutScaleFactor: 0.6, // 2x scale of the layout, when using `Fit.Layout`. This allows you to resize the layout as needed.
        }),
        autoplay: true,
        stateMachines: "LPUI",
        onLoad: () => {
          // Ensure the drawing surface matches the canvas size and device pixel ratio
          computeSize();
        },
      });
      function computeSize() {
        r.resizeDrawingSurfaceToCanvas();
      }

      // Subscribe to window size changes and update call `resizeDrawingSurfaceToCanvas`
      window.onresize = computeSize;

      // Subscribe to devicePixelRatio changes and call `resizeDrawingSurfaceToCanvas`
      window
        .matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`)
        .addEventListener("change", computeSize);
    </script>
    <script type="module" defer>
      import { Chuck } from './webchuck/wc-bundle.js'

      let theChuck; // global variable

      document.getElementById('action').addEventListener('click', async () => {
        // Initialize default ChucK object
        if (theChuck === undefined) {
          theChuck = await Chuck.init( [{"serverFilename":"./p_61_0_1.wav","virtualFilename":"p_61_0_1.wav"},{"serverFilename":"./p_61_0_2.wav","virtualFilename":"p_61_0_2.wav"},{"serverFilename":"./p_61_0_3.wav","virtualFilename":"p_61_0_3.wav"},{"serverFilename":"./p_61_0_4.wav","virtualFilename":"p_61_0_4.wav"},{"serverFilename":"./p_61_0_6.wav","virtualFilename":"p_61_0_6.wav"},{"serverFilename":"./p_61_1_1.wav","virtualFilename":"p_61_1_1.wav"},{"serverFilename":"./p_61_1_2.wav","virtualFilename":"p_61_1_2.wav"},{"serverFilename":"./p_61_1_3.wav","virtualFilename":"p_61_1_3.wav"},{"serverFilename":"./p_61_1_4.wav","virtualFilename":"p_61_1_4.wav"},{"serverFilename":"./p_61_1_6.wav","virtualFilename":"p_61_1_6.wav"},{"serverFilename":"./p_61_2_1.wav","virtualFilename":"p_61_2_1.wav"},{"serverFilename":"./p_61_2_2.wav","virtualFilename":"p_61_2_2.wav"},{"serverFilename":"./p_61_2_3.wav","virtualFilename":"p_61_2_3.wav"},{"serverFilename":"./p_61_2_4.wav","virtualFilename":"p_61_2_4.wav"},{"serverFilename":"./p_61_2_6.wav","virtualFilename":"p_61_2_6.wav"},{"serverFilename":"./p_61_3_1.wav","virtualFilename":"p_61_3_1.wav"},{"serverFilename":"./p_61_3_2.wav","virtualFilename":"p_61_3_2.wav"},{"serverFilename":"./p_61_3_3.wav","virtualFilename":"p_61_3_3.wav"},{"serverFilename":"./p_61_3_4.wav","virtualFilename":"p_61_3_4.wav"},{"serverFilename":"./p_61_3_6.wav","virtualFilename":"p_61_3_6.wav"},{"serverFilename":"./p_63_0_1.wav","virtualFilename":"p_63_0_1.wav"},{"serverFilename":"./p_63_0_2.wav","virtualFilename":"p_63_0_2.wav"},{"serverFilename":"./p_63_0_3.wav","virtualFilename":"p_63_0_3.wav"},{"serverFilename":"./p_63_0_4.wav","virtualFilename":"p_63_0_4.wav"},{"serverFilename":"./p_63_0_5.wav","virtualFilename":"p_63_0_5.wav"},{"serverFilename":"./p_63_0_6.wav","virtualFilename":"p_63_0_6.wav"},{"serverFilename":"./p_63_1_1.wav","virtualFilename":"p_63_1_1.wav"},{"serverFilename":"./p_63_1_2.wav","virtualFilename":"p_63_1_2.wav"},{"serverFilename":"./p_63_1_3.wav","virtualFilename":"p_63_1_3.wav"},{"serverFilename":"./p_63_1_4.wav","virtualFilename":"p_63_1_4.wav"},{"serverFilename":"./p_63_1_5.wav","virtualFilename":"p_63_1_5.wav"},{"serverFilename":"./p_63_1_6.wav","virtualFilename":"p_63_1_6.wav"},{"serverFilename":"./p_63_2_1.wav","virtualFilename":"p_63_2_1.wav"},{"serverFilename":"./p_63_2_2.wav","virtualFilename":"p_63_2_2.wav"},{"serverFilename":"./p_63_2_3.wav","virtualFilename":"p_63_2_3.wav"},{"serverFilename":"./p_63_2_4.wav","virtualFilename":"p_63_2_4.wav"},{"serverFilename":"./p_63_2_5.wav","virtualFilename":"p_63_2_5.wav"},{"serverFilename":"./p_63_2_6.wav","virtualFilename":"p_63_2_6.wav"},{"serverFilename":"./p_63_3_1.wav","virtualFilename":"p_63_3_1.wav"},{"serverFilename":"./p_63_3_2.wav","virtualFilename":"p_63_3_2.wav"},{"serverFilename":"./p_63_3_3.wav","virtualFilename":"p_63_3_3.wav"},{"serverFilename":"./p_63_3_4.wav","virtualFilename":"p_63_3_4.wav"},{"serverFilename":"./p_63_3_5.wav","virtualFilename":"p_63_3_5.wav"},{"serverFilename":"./p_63_3_6.wav","virtualFilename":"p_63_3_6.wav"},{"serverFilename":"./p_have_0.wav","virtualFilename":"p_have_0.wav"},{"serverFilename":"./p_have_1.wav","virtualFilename":"p_have_1.wav"},{"serverFilename":"./p_have_2.wav","virtualFilename":"p_have_2.wav"},{"serverFilename":"./p_have_3.wav","virtualFilename":"p_have_3.wav"},{"serverFilename":"./p_whoops_0.wav","virtualFilename":"p_whoops_0.wav"},{"serverFilename":"./p_whoops_1.wav","virtualFilename":"p_whoops_1.wav"},{"serverFilename":"./p_whoops_2.wav","virtualFilename":"p_whoops_2.wav"},{"serverFilename":"./p_whoops_3.wav","virtualFilename":"p_whoops_3.wav"},{"serverFilename":"./p_whoops_4.wav","virtualFilename":"p_whoops_4.wav"},{"serverFilename":"./p_whoops_5.wav","virtualFilename":"p_whoops_5.wav"},{"serverFilename":"./p_whoops_6.wav","virtualFilename":"p_whoops_6.wav"},{"serverFilename":"./p_whoops_7.wav","virtualFilename":"p_whoops_7.wav"},{"serverFilename":"./p_whoops_8.wav","virtualFilename":"p_whoops_8.wav"},{"serverFilename":"./p_whoops_9.wav","virtualFilename":"p_whoops_9.wav"},{"serverFilename":"./p_whoops_10.wav","virtualFilename":"p_whoops_10.wav"},{"serverFilename":"./p_whoops_11.wav","virtualFilename":"p_whoops_11.wav"},{"serverFilename":"./p_whoops_12.wav","virtualFilename":"p_whoops_12.wav"},{"serverFilename":"./p_whoops_13.wav","virtualFilename":"p_whoops_13.wav"},{"serverFilename":"./p_whoops_14.wav","virtualFilename":"p_whoops_14.wav"},{"serverFilename":"./p_whoops_15.wav","virtualFilename":"p_whoops_15.wav"},{"serverFilename":"./p_whoops_16.wav","virtualFilename":"p_whoops_16.wav"},{"serverFilename":"./p_whoops_17.wav","virtualFilename":"p_whoops_17.wav"},{"serverFilename":"./p_whoops_18.wav","virtualFilename":"p_whoops_18.wav"},{"serverFilename":"./p_whoops_19.wav","virtualFilename":"p_whoops_19.wav"},{"serverFilename":"./p_whoops_20.wav","virtualFilename":"p_whoops_20.wav"},{"serverFilename":"./p_whoops_21.wav","virtualFilename":"p_whoops_21.wav"},{"serverFilename":"./p_whoops_22.wav","virtualFilename":"p_whoops_22.wav"},{"serverFilename":"./p_whoops_23.wav","virtualFilename":"p_whoops_23.wav"},{"serverFilename":"./p_you_0.wav","virtualFilename":"p_you_0.wav"},{"serverFilename":"./p_you_1.wav","virtualFilename":"p_you_1.wav"},{"serverFilename":"./p_you_2.wav","virtualFilename":"p_you_2.wav"},{"serverFilename":"./p_you_3.wav","virtualFilename":"p_you_3.wav"},{"serverFilename":"./t_61_0.wav","virtualFilename":"t_61_0.wav"},{"serverFilename":"./t_61_1.wav","virtualFilename":"t_61_1.wav"},{"serverFilename":"./t_61_2.wav","virtualFilename":"t_61_2.wav"},{"serverFilename":"./t_61_3.wav","virtualFilename":"t_61_3.wav"},{"serverFilename":"./t_63_0.wav","virtualFilename":"t_63_0.wav"},{"serverFilename":"./t_63_1.wav","virtualFilename":"t_63_1.wav"},{"serverFilename":"./t_63_2.wav","virtualFilename":"t_63_2.wav"},{"serverFilename":"./t_63_3.wav","virtualFilename":"t_63_3.wav"},{"serverFilename":"./t_i_0.wav","virtualFilename":"t_i_0.wav"},{"serverFilename":"./t_i_1.wav","virtualFilename":"t_i_1.wav"},{"serverFilename":"./t_i_2.wav","virtualFilename":"t_i_2.wav"},{"serverFilename":"./t_i_3.wav","virtualFilename":"t_i_3.wav"},{"serverFilename":"./t_have_0.wav","virtualFilename":"t_have_0.wav"},{"serverFilename":"./t_have_1.wav","virtualFilename":"t_have_1.wav"},{"serverFilename":"./t_have_2.wav","virtualFilename":"t_have_2.wav"},{"serverFilename":"./t_have_3.wav","virtualFilename":"t_have_3.wav"}], undefined, undefined, './webchuck/');
        }
        // Run ChucK code
        await theChuck.loadFile("assets/chuck/main.ck");

        theChuck.runFile("main.ck");
      });
    </script>
  </body>
</html>
